{"version":3,"file":"browser.es5.js","sources":["../src/dev-tool.js","../src/index.js"],"sourcesContent":["/* eslint-env browser */\n/* global module */\n\nexport function addDebugMetadata(instance, stackIndex) {\n  const {stack, stacktrace, message} = new Error(\"stacktrace source\");\n  instance.debug = {\n    stackInfo: {stack, stacktrace, message},\n    stackIndex: stackIndex,\n  };\n}\n\nexport class DebugEngine {\n  constructor(worker) {\n    if (!worker) {\n      const workerBlob = new Blob(\n        [\n          `importScripts(\"https://unpkg.com/css-to-js-sourcemap-worker@2.0.4/worker.js\")`,\n        ],\n        {type: \"application/javascript\"},\n      );\n      worker = new Worker(URL.createObjectURL(workerBlob));\n      worker.postMessage({\n        id: \"init_wasm\",\n        url: \"https://unpkg.com/css-to-js-sourcemap-worker@2.0.4/mappings.wasm\",\n      });\n      worker.postMessage({\n        id: \"set_render_interval\",\n        interval: 120,\n      });\n      if (module.hot) {\n        module.hot.addStatusHandler(status => {\n          if (status === \"dispose\") {\n            worker.postMessage({id: \"invalidate\"});\n          }\n        });\n      }\n    }\n    this.worker = worker;\n    this.counter = 0;\n    this.worker.onmessage = msg => {\n      const {id, css} = msg.data;\n      if (id === \"render_css\" && css) {\n        const style = document.createElement(\"style\");\n        style.appendChild(document.createTextNode(css));\n        document.head.appendChild(style);\n      }\n    };\n  }\n\n  debug({stackIndex, stackInfo}) {\n    const className = `__debug-${this.counter++}`;\n    this.worker.postMessage({\n      id: \"add_mapped_class\",\n      className,\n      stackInfo,\n      stackIndex,\n    });\n    return className;\n  }\n}\n","// @flow\n\n/* eslint-disable no-unused-vars, no-redeclare, no-shadow */\n\ndeclare var __DEV__: boolean;\ndeclare var __BROWSER__: boolean;\n\nimport * as React from \"react\";\nimport createReactContext, {type Context} from \"create-react-context\";\nimport {\n  driver,\n  getInitialStyle,\n  type StandardEngine,\n  type StyleObject,\n} from \"styletron-standard\";\n\nimport type {\n  Styletron,\n  StyletronComponent,\n  ReducerContainer,\n  AssignmentCommutativeReducerContainer,\n  NonAssignmentCommutativeReducerContainer,\n  Reducer,\n  StyledFn,\n  WithStyleFn,\n  WithTransformFn,\n  WithWrapperFn,\n} from \"./types.js\";\nimport {addDebugMetadata, DebugEngine} from \"./dev-tool.js\";\n\nexport {DebugEngine};\n\nconst StyletronContext: Context<any> = createReactContext();\nconst HydrationContext = createReactContext(false);\nconst DebugEngineContext = createReactContext();\n\ntype DevProviderProps = {\n  children: React.Node,\n  debugAfterHydration?: boolean,\n  value: StandardEngine,\n  debug?: any,\n};\nclass DevProvider extends React.Component<\n  DevProviderProps,\n  {hydrating: boolean},\n> {\n  constructor(props: DevProviderProps) {\n    super();\n    this.state = {\n      hydrating: Boolean(props.debugAfterHydration),\n    };\n  }\n\n  componentDidMount() {\n    if (__BROWSER__) {\n      if (this.state.hydrating === true) {\n        this.setState({\n          hydrating: false,\n        });\n      }\n    }\n  }\n\n  render() {\n    return (\n      <StyletronContext.Provider value={this.props.value}>\n        <DebugEngineContext.Provider value={this.props.debug}>\n          <HydrationContext.Provider value={this.state.hydrating}>\n            {this.props.children}\n          </HydrationContext.Provider>\n        </DebugEngineContext.Provider>\n      </StyletronContext.Provider>\n    );\n  }\n}\n\nexport const Provider =\n  __BROWSER__ && __DEV__ ? DevProvider : StyletronContext.Provider;\n\n// TODO: more precise types\nexport function DevConsumer(props: {children: (any, any, any) => React.Node}) {\n  return (\n    <StyletronContext.Consumer>\n      {styletronEngine => (\n        <DebugEngineContext.Consumer>\n          {debugEngine => (\n            <HydrationContext.Consumer>\n              {hydrating =>\n                props.children(styletronEngine, debugEngine, hydrating)\n              }\n            </HydrationContext.Consumer>\n          )}\n        </DebugEngineContext.Consumer>\n      )}\n    </StyletronContext.Consumer>\n  );\n}\n\nconst Consumer =\n  __BROWSER__ && __DEV__ ? DevConsumer : StyletronContext.Consumer;\n\ntype createStyledOpts = {\n  getInitialStyle: () => StyleObject,\n  driver: typeof driver,\n  wrapper: (\n    React.StatelessFunctionalComponent<any>,\n  ) => React.ComponentType<any>,\n};\n\nexport function createStyled({\n  getInitialStyle,\n  driver,\n  wrapper,\n}: createStyledOpts): StyledFn {\n  function styled(base: any, styleArg) {\n    if (__DEV__) {\n      if (base.__STYLETRON__) {\n        /* eslint-disable no-console */\n        console.warn(\n          \"It appears you are passing a styled component into `styled`.\",\n        );\n        console.warn(\n          \"For composition with existing styled components, use `withStyle`, `withStyleDeep`, or `withTransform` instead.\",\n        );\n        /* eslint-enable no-console */\n      }\n    }\n\n    const baseStyletron: Styletron = {\n      reducers: [],\n      base: base,\n      driver,\n      getInitialStyle,\n      wrapper,\n    };\n\n    if (__BROWSER__ && __DEV__) {\n      addDebugMetadata(baseStyletron, 2);\n    }\n\n    return createStyledElementComponent(\n      autoComposeShallow(baseStyletron, styleArg),\n    );\n  }\n\n  return styled;\n}\n\nexport const styled: StyledFn = createStyled({\n  getInitialStyle,\n  driver,\n  wrapper: Component => Component,\n});\n\ndeclare var withTransform: WithTransformFn;\nexport function withTransform(component, transformer) {\n  const styletron = component.__STYLETRON__;\n\n  if (__BROWSER__ && __DEV__) {\n    addDebugMetadata(styletron, 2);\n  }\n\n  return createStyledElementComponent(composeDynamic(styletron, transformer));\n}\n\ndeclare var withStyle: WithStyleFn;\nexport function withStyle(component, styleArg) {\n  const styletron = component.__STYLETRON__;\n\n  if (__DEV__) {\n    if (!styletron) {\n      /* eslint-disable no-console */\n      console.warn(\n        \"The first parameter to `withStyle` must be a styled component (without extra wrappers).\",\n      );\n      /* eslint-enable no-console */\n    }\n  }\n\n  if (__BROWSER__ && __DEV__) {\n    addDebugMetadata(styletron, 2);\n  }\n\n  return createStyledElementComponent(autoComposeShallow(styletron, styleArg));\n}\n\ndeclare var withStyleDeep: WithStyleFn;\nexport function withStyleDeep(component, styleArg) {\n  const styletron = component.__STYLETRON__;\n\n  if (__DEV__) {\n    if (!styletron) {\n      /* eslint-disable no-console */\n      console.warn(\n        \"The first parameter to `withStyleDeep` must be a styled component (without extra wrappers).\",\n      );\n      /* eslint-enable no-console */\n    }\n  }\n\n  if (__BROWSER__ && __DEV__) {\n    addDebugMetadata(styletron, 2);\n  }\n\n  return createStyledElementComponent(autoComposeDeep(styletron, styleArg));\n}\n\ndeclare var withWrapper: WithWrapperFn;\nexport function withWrapper(component, wrapper) {\n  const styletron = component.__STYLETRON__;\n\n  if (__DEV__) {\n    if (!styletron) {\n      /* eslint-disable no-console */\n      console.warn(\n        \"The first parameter to `withWrapper` must be a styled component (without extra wrappers).\",\n      );\n      /* eslint-enable no-console */\n    }\n  }\n\n  const composed = {\n    getInitialStyle: styletron.getInitialStyle,\n    base: styletron.base,\n    driver: styletron.driver,\n    wrapper: wrapper,\n    reducers: styletron.reducers,\n  };\n\n  if (__BROWSER__ && __DEV__) {\n    addDebugMetadata(composed, 2);\n  }\n\n  return createStyledElementComponent(composed);\n}\n\nexport function autoComposeShallow<Props>(\n  styletron: Styletron,\n  styleArg: StyleObject | (Props => StyleObject),\n) {\n  if (typeof styleArg === \"function\") {\n    return dynamicComposeShallow(styletron, styleArg);\n  }\n\n  return staticComposeShallow(styletron, styleArg);\n}\n\nexport function autoComposeDeep<Props>(\n  styletron: Styletron,\n  styleArg: StyleObject | (Props => StyleObject),\n) {\n  if (typeof styleArg === \"function\") {\n    return dynamicComposeDeep(styletron, styleArg);\n  }\n\n  return staticComposeDeep(styletron, styleArg);\n}\n\nexport function staticComposeShallow(styletron: Styletron, style: StyleObject) {\n  return composeStatic(styletron, createShallowMergeReducer(style));\n}\n\nexport function staticComposeDeep(styletron: Styletron, style: StyleObject) {\n  return composeStatic(styletron, createDeepMergeReducer(style));\n}\n\nexport function dynamicComposeShallow<Props>(\n  styletron: Styletron,\n  styleFn: Props => StyleObject,\n) {\n  return composeDynamic(styletron, (style, props) =>\n    shallowMerge(style, styleFn(props)),\n  );\n}\n\nexport function dynamicComposeDeep<Props>(\n  styletron: Styletron,\n  styleFn: Props => StyleObject,\n) {\n  return composeDynamic(styletron, (style, props) =>\n    deepMerge(style, styleFn(props)),\n  );\n}\n\nexport function createShallowMergeReducer(\n  style: StyleObject,\n): AssignmentCommutativeReducerContainer {\n  return {\n    reducer: inputStyle => shallowMerge(inputStyle, style),\n    assignmentCommutative: true,\n    factory: createShallowMergeReducer,\n    style: style,\n  };\n}\n\nexport function createDeepMergeReducer(\n  style: StyleObject,\n): AssignmentCommutativeReducerContainer {\n  return {\n    reducer: inputStyle => deepMerge(inputStyle, style),\n    assignmentCommutative: true,\n    factory: createDeepMergeReducer,\n    style: style,\n  };\n}\n\nexport function composeStatic(\n  styletron: Styletron,\n  reducerContainer: ReducerContainer,\n) {\n  if (styletron.reducers.length === 0) {\n    const style = reducerContainer.reducer(styletron.getInitialStyle(), {});\n    const result: Styletron = {\n      reducers: styletron.reducers,\n      base: styletron.base,\n      driver: styletron.driver,\n      wrapper: styletron.wrapper,\n      getInitialStyle: () => style,\n    };\n    if (__BROWSER__ && __DEV__) {\n      result.debug = styletron.debug;\n    }\n    return result;\n  } else {\n    const last = styletron.reducers[0];\n\n    if (\n      last.assignmentCommutative === true &&\n      reducerContainer.assignmentCommutative === true\n    ) {\n      const composed = reducerContainer.reducer(last.style);\n\n      const result: Styletron = {\n        getInitialStyle: styletron.getInitialStyle,\n        base: styletron.base,\n        driver: styletron.driver,\n        wrapper: styletron.wrapper,\n        reducers: [last.factory(composed)].concat(styletron.reducers.slice(1)),\n      };\n\n      if (__BROWSER__ && __DEV__) {\n        result.debug = styletron.debug;\n      }\n\n      return result;\n    }\n\n    return composeDynamic(styletron, reducerContainer.reducer);\n  }\n}\n\nexport function composeDynamic<Props>(\n  styletron: Styletron,\n  reducer: (StyleObject, Props) => StyleObject,\n) {\n  const composed: Styletron = {\n    getInitialStyle: styletron.getInitialStyle,\n    base: styletron.base,\n    driver: styletron.driver,\n    wrapper: styletron.wrapper,\n    reducers: [{assignmentCommutative: false, reducer}].concat(\n      styletron.reducers,\n    ),\n  };\n  if (__BROWSER__ && __DEV__) {\n    composed.debug = styletron.debug;\n  }\n  return composed;\n}\n\nexport function createStyledElementComponent(styletron: Styletron) {\n  const {reducers, base, driver, wrapper, getInitialStyle} = styletron;\n\n  if (__BROWSER__ && __DEV__) {\n    var debugStackInfo, debugStackIndex;\n    if (styletron.debug) {\n      debugStackInfo = styletron.debug.stackInfo;\n      debugStackIndex = styletron.debug.stackIndex;\n    }\n  }\n\n  if (__BROWSER__ && __DEV__) {\n    var debugClassName;\n  }\n\n  function StyledElement(props) {\n    return (\n      <Consumer>\n        {(styletron, debugEngine, hydrating) => {\n          if (__DEV__ && styletron === void 0) {\n            throw new Error(`\nA Styletron styled component was rendered, but no Styletron engine instance was provided in React context.\n\nDid you forget to provide a Styletron engine instance to React context via using the Styletron provider component?\n\nNote: Providers and Consumers must come from the exact same React.createContext call to work.\nIf your app has multiple instances of the \"styletron-react-core\" package in your node_module tree,\nyour Provider may be coming from a different React.createContext call, which means the styled components\nwill not recieve the provided engine instance. This scenario can arise, for example, when using \"npm link\".\n`);\n          }\n\n          const elementProps = omitPrefixedKeys(props);\n          const style = resolveStyle(getInitialStyle, reducers, props);\n          const styleClassString = driver(style, styletron);\n          const Element = props.$as ? props.$as : base;\n          elementProps.className = props.className\n            ? `${props.className} ${styleClassString}`\n            : styleClassString;\n\n          if (__BROWSER__ && __DEV__ && debugEngine && !hydrating) {\n            if (!debugClassName) {\n              debugClassName = debugEngine.debug({\n                stackInfo: debugStackInfo,\n                stackIndex: debugStackIndex,\n              });\n            }\n\n            const joined = `${debugClassName} ${elementProps.className}`;\n            elementProps.className = joined;\n          }\n\n          if (props.$ref) {\n            elementProps.ref = props.$ref;\n          }\n\n          return <Element {...elementProps} />;\n        }}\n      </Consumer>\n    );\n  }\n\n  const Wrapped = wrapper(StyledElement);\n  Wrapped.__STYLETRON__ = {\n    base,\n    reducers,\n    driver,\n    wrapper,\n    getInitialStyle,\n  };\n\n  if (__DEV__) {\n    let displayName;\n\n    if (typeof base === \"string\") {\n      displayName = base;\n    } else if (base.displayName) {\n      displayName = base.displayName;\n    } else if (base.name) {\n      displayName = base.name;\n    } else {\n      displayName = \"Unknown\";\n    }\n\n    Wrapped.displayName = `Styled(${displayName})`;\n  }\n\n  return Wrapped;\n}\n\n// Utility functions\n\nexport function resolveStyle(\n  getInitialStyle: void => StyleObject,\n  reducers: Array<ReducerContainer>,\n  props: Object,\n) {\n  let result = getInitialStyle();\n  let i = reducers.length;\n  while (i--) {\n    result = reducers[i].reducer(result, props);\n  }\n  return result;\n}\n\nfunction isObject(x: any) {\n  return typeof x === \"object\" && x !== null;\n}\n\nfunction omitPrefixedKeys(source) {\n  const result = {};\n\n  for (const key in source) {\n    if (key[0] !== \"$\") {\n      result[key] = source[key];\n    }\n  }\n\n  return result;\n}\n\nfunction deepMerge(a, b) {\n  const result = assign({}, a);\n\n  for (const key in b) {\n    const val = b[key];\n\n    if (isObject(val) && isObject(a[key])) {\n      result[key] = deepMerge(a[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  return result;\n}\n\nfunction shallowMerge(a, b) {\n  return assign(assign({}, a), b);\n}\n\nfunction assign(target, source) {\n  for (const key in source) {\n    target[key] = source[key];\n  }\n  return target;\n}\n"],"names":["addDebugMetadata","instance","stackIndex","Error","stack","stacktrace","message","debug","DebugEngine","worker","workerBlob","Blob","Worker","URL","createObjectURL","postMessage","module","hot","addStatusHandler","status","counter","onmessage","msg","data","id","css","style","document","createElement","appendChild","createTextNode","head","stackInfo","className","StyletronContext","createReactContext","HydrationContext","DebugEngineContext","DevProvider","props","state","Boolean","debugAfterHydration","componentDidMount","hydrating","setState","render","React.createElement","value","children","React","Provider","DevConsumer","styletronEngine","debugEngine","Consumer","createStyled","getInitialStyle","driver","wrapper","styled","base","styleArg","__STYLETRON__","warn","baseStyletron","createStyledElementComponent","autoComposeShallow","Component","withTransform","component","transformer","styletron","composeDynamic","withStyle","withStyleDeep","autoComposeDeep","withWrapper","composed","reducers","dynamicComposeShallow","staticComposeShallow","dynamicComposeDeep","staticComposeDeep","composeStatic","createShallowMergeReducer","createDeepMergeReducer","styleFn","shallowMerge","deepMerge","inputStyle","reducerContainer","length","reducer","result","last","assignmentCommutative","factory","concat","slice","debugStackInfo","debugStackIndex","debugClassName","StyledElement","elementProps","omitPrefixedKeys","resolveStyle","styleClassString","Element","$as","joined","$ref","ref","Wrapped","displayName","name","i","isObject","x","source","key","a","b","assign","val","target"],"mappings":"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"}