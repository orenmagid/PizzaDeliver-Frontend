{"ast":null,"code":"import _classCallCheck from \"/Users/orenmagid/Development/PersonalProjects/APIPractice/APIFrontend/api-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/orenmagid/Development/PersonalProjects/APIPractice/APIFrontend/api-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/orenmagid/Development/PersonalProjects/APIPractice/APIFrontend/api-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/orenmagid/Development/PersonalProjects/APIPractice/APIFrontend/api-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/orenmagid/Development/PersonalProjects/APIPractice/APIFrontend/api-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/orenmagid/Development/PersonalProjects/APIPractice/APIFrontend/api-frontend/src/containers/Main.js\";\nimport React, { PureComponent } from 'react';\n\nvar Main =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Main, _PureComponent);\n\n  function Main() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Main)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      file: null\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var file = _this.state.file;\n      console.log('TCL: Main -> file', file);\n      var params = {\n        title: e.currentTarget.title.value,\n        attribution: e.currentTarget.attribution.value,\n        notes: e.currentTarget.notes.value,\n        live: e.currentTarget.live.value,\n        url: file\n      };\n\n      _this.handlePostImage(params);\n    };\n\n    _this.handlePostImage = function (e) {\n      e.preventDefault();\n      var params = {\n        username: e.currentTarget.username.value,\n        password: e.currentTarget.password.value\n      };\n\n      _this.setState({\n        error: ''\n      });\n\n      fetch(baseUrl + '/login', {\n        method: 'POST',\n        body: JSON.stringify(params),\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log('TCL: App -> data', data);\n\n        if (data.success) {\n          localStorage.setItem('token', data.token);\n\n          _this.setState({\n            error: ''\n          });\n        } else {\n          _this.setState({\n            error: 'Invalid username or password'\n          });\n\n          alert('Invalid username or password');\n        }\n      });\n    };\n\n    _this.handleChange = function (e) {\n      if (e.target.files.length > 0) {\n        var reader = new FileReader();\n        var file = e.target.files[0];\n        console.log('TCL: Main -> file', file);\n\n        reader.onloadend = function () {\n          _this.setState({\n            file: reader.result\n          });\n        };\n\n        reader.readAsDataURL(file);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"attribution\",\n        placeholder: \"Attribution\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"notes\",\n        placeholder: \"Notes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Live\", React.createElement(\"input\", {\n        type: \"checkbox\",\n        name: \"live\",\n        placeholder: \"Live\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        onChange: this.handleChange,\n        name: \"url\",\n        type: \"file\",\n        accept: \".jpg, .jpeg, .png, .gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Login\"));\n    }\n  }]);\n\n  return Main;\n}(PureComponent);\n\nexport { Main as default };","map":{"version":3,"sources":["/Users/orenmagid/Development/PersonalProjects/APIPractice/APIFrontend/api-frontend/src/containers/Main.js"],"names":["React","PureComponent","Main","state","file","handleSubmit","e","preventDefault","console","log","params","title","currentTarget","value","attribution","notes","live","url","handlePostImage","username","password","setState","error","fetch","baseUrl","method","body","JSON","stringify","headers","Accept","then","res","json","data","success","localStorage","setItem","token","alert","handleChange","target","files","length","reader","FileReader","onloadend","result","readAsDataURL"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\n\nexport default class Main extends PureComponent {\n  state = { file: null }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const { file } = this.state\n    console.log('TCL: Main -> file', file)\n\n    const params = {\n      title: e.currentTarget.title.value,\n      attribution: e.currentTarget.attribution.value,\n      notes: e.currentTarget.notes.value,\n      live: e.currentTarget.live.value,\n      url: file\n    }\n    this.handlePostImage(params)\n  }\n\n  handlePostImage = e => {\n    e.preventDefault()\n    const params = {\n      username: e.currentTarget.username.value,\n      password: e.currentTarget.password.value\n    }\n\n    this.setState({ error: '' })\n\n    fetch(baseUrl + '/login', {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        console.log('TCL: App -> data', data)\n        if (data.success) {\n          localStorage.setItem('token', data.token)\n\n          this.setState({ error: '' })\n        } else {\n          this.setState({ error: 'Invalid username or password' })\n          alert('Invalid username or password')\n        }\n      })\n  }\n\n  handleChange = e => {\n    if (e.target.files.length > 0) {\n      const reader = new FileReader()\n\n      const file = e.target.files[0]\n      console.log('TCL: Main -> file', file)\n\n      reader.onloadend = () => {\n        this.setState({ file: reader.result })\n      }\n\n      reader.readAsDataURL(file)\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"text\" name=\"title\" placeholder=\"Title\" />\n        <input type=\"text\" name=\"attribution\" placeholder=\"Attribution\" />\n        <input type=\"text\" name=\"notes\" placeholder=\"Notes\" />\n        <label>\n          Live\n          <input type=\"checkbox\" name=\"live\" placeholder=\"Live\" />\n        </label>\n        <input\n          onChange={this.handleChange}\n          name=\"url\"\n          type=\"file\"\n          accept=\".jpg, .jpeg, .png, .gif\"\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}