{"ast":null,"code":"import _objectWithoutProperties from \"/Users/orenmagid/Development/PersonalProjects/ChroniclePizza/ChroniclePizzaFrontend/chronicle-pizza-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/Users/orenmagid/Development/PersonalProjects/ChroniclePizza/ChroniclePizzaFrontend/chronicle-pizza-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/orenmagid/Development/PersonalProjects/ChroniclePizza/ChroniclePizzaFrontend/chronicle-pizza-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/orenmagid/Development/PersonalProjects/ChroniclePizza/ChroniclePizzaFrontend/chronicle-pizza-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/orenmagid/Development/PersonalProjects/ChroniclePizza/ChroniclePizzaFrontend/chronicle-pizza-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/orenmagid/Development/PersonalProjects/ChroniclePizza/ChroniclePizzaFrontend/chronicle-pizza-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/orenmagid/Development/PersonalProjects/ChroniclePizza/ChroniclePizzaFrontend/chronicle-pizza-frontend/src/components/Dropdown/Dropdown/index.js\";\nimport React, { PureComponent } from 'react';\nimport Publisher from '../../Publisher';\nimport { withStyle } from 'styletron-react';\nimport styles from './styles';\nimport DropdownItem from '../DropdownItem';\nimport { BaseDropdownContainer, BaseDropdownMenuContainer } from '../Base';\nvar DropdownContainer = withStyle(BaseDropdownContainer, styles.dropdownContainer);\nvar DropdownMenuContainer = withStyle(BaseDropdownMenuContainer, styles.dropdownMenuContainer);\n\nvar Dropdown =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Dropdown, _PureComponent);\n\n  function Dropdown() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dropdown);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dropdown)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.container = React.createRef();\n    _this.state = {\n      open: false\n    };\n\n    _this.handleClickInside = function (e) {\n      var open = _this.state.open;\n\n      _this.setState({\n        open: !open\n      });\n    };\n\n    _this.handleClickOutside = function (e) {\n      var open = _this.state.open;\n\n      if (open) {\n        _this.setState({\n          open: false\n        });\n      }\n    };\n\n    _this.handleClick = function (e) {\n      var target = e.target;\n      var container = _this.container.current;\n      var isContained = container.contains(target);\n\n      if (isContained) {\n        _this.handleClickInside(e);\n      } else {\n        _this.handleClickOutside(e);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.subscriptionKey = Publisher.subscribe('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Publisher.unsubscribe('click', this.subscriptionKey);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var open = this.state.open;\n\n      var _this$props = this.props,\n          Component = _this$props.Component,\n          renderComponent = _this$props.renderComponent,\n          rest = _objectWithoutProperties(_this$props, [\"Component\", \"renderComponent\"]);\n\n      return React.createElement(DropdownContainer, Object.assign({\n        $ref: this.container\n      }, rest, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), Component ? Component : renderComponent ? renderComponent(open) : null, React.createElement(DropdownMenuContainer, {\n        $open: open,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.props.children));\n    }\n  }]);\n\n  return Dropdown;\n}(PureComponent);\n\nDropdown.Item = DropdownItem;\nexport default Dropdown;","map":{"version":3,"sources":["/Users/orenmagid/Development/PersonalProjects/ChroniclePizza/ChroniclePizzaFrontend/chronicle-pizza-frontend/src/components/Dropdown/Dropdown/index.js"],"names":["React","PureComponent","Publisher","withStyle","styles","DropdownItem","BaseDropdownContainer","BaseDropdownMenuContainer","DropdownContainer","dropdownContainer","DropdownMenuContainer","dropdownMenuContainer","Dropdown","container","createRef","state","open","handleClickInside","e","setState","handleClickOutside","handleClick","target","current","isContained","contains","subscriptionKey","subscribe","unsubscribe","props","Component","renderComponent","rest","children","Item"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AAEA,SAASC,SAAT,QAA0B,iBAA1B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,OAAOC,YAAP,MAAyB,iBAAzB;AAEA,SAASC,qBAAT,EAAgCC,yBAAhC,QAAiE,SAAjE;AAEA,IAAMC,iBAAiB,GAAGL,SAAS,CACjCG,qBADiC,EAEjCF,MAAM,CAACK,iBAF0B,CAAnC;AAIA,IAAMC,qBAAqB,GAAGP,SAAS,CACrCI,yBADqC,EAErCH,MAAM,CAACO,qBAF8B,CAAvC;;IAKMC,Q;;;;;;;;;;;;;;;;;UAGJC,S,GAAYb,KAAK,CAACc,SAAN,E;UAEZC,K,GAAQ;AACNC,MAAAA,IAAI,EAAE;AADA,K;;UAYRC,iB,GAAoB,UAAAC,CAAC,EAAI;AAAA,UACfF,IADe,GACN,MAAKD,KADC,CACfC,IADe;;AAEvB,YAAKG,QAAL,CAAc;AAAEH,QAAAA,IAAI,EAAE,CAACA;AAAT,OAAd;AACD,K;;UAEDI,kB,GAAqB,UAAAF,CAAC,EAAI;AAAA,UAChBF,IADgB,GACP,MAAKD,KADE,CAChBC,IADgB;;AAExB,UAAIA,IAAJ,EAAU;AACR,cAAKG,QAAL,CAAc;AAAEH,UAAAA,IAAI,EAAE;AAAR,SAAd;AACD;AACF,K;;UAEDK,W,GAAc,UAAAH,CAAC,EAAI;AAAA,UACTI,MADS,GACEJ,CADF,CACTI,MADS;AAAA,UAEAT,SAFA,GAEc,MAAKA,SAFnB,CAETU,OAFS;AAIjB,UAAMC,WAAW,GAAGX,SAAS,CAACY,QAAV,CAAmBH,MAAnB,CAApB;;AAEA,UAAIE,WAAJ,EAAiB;AACf,cAAKP,iBAAL,CAAuBC,CAAvB;AACD,OAFD,MAEO;AACL,cAAKE,kBAAL,CAAwBF,CAAxB;AACD;AACF,K;;;;;;;wCA/BmB;AAClB,WAAKQ,eAAL,GAAuBxB,SAAS,CAACyB,SAAV,CAAoB,OAApB,EAA6B,KAAKN,WAAlC,CAAvB;AACD;;;2CAEsB;AACrBnB,MAAAA,SAAS,CAAC0B,WAAV,CAAsB,OAAtB,EAA+B,KAAKF,eAApC;AACD;;;6BA2BQ;AAAA,UACCV,IADD,GACU,KAAKD,KADf,CACCC,IADD;;AAAA,wBAEyC,KAAKa,KAF9C;AAAA,UAECC,SAFD,eAECA,SAFD;AAAA,UAEYC,eAFZ,eAEYA,eAFZ;AAAA,UAEgCC,IAFhC;;AAIP,aACE,oBAAC,iBAAD;AAAmB,QAAA,IAAI,EAAE,KAAKnB;AAA9B,SAA6CmB,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACGF,SAAS,GAAGA,SAAH,GAAeC,eAAe,GAAGA,eAAe,CAACf,IAAD,CAAlB,GAA2B,IADrE,EAEE,oBAAC,qBAAD;AAAuB,QAAA,KAAK,EAAEA,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKa,KAAL,CAAWI,QADd,CAFF,CADF;AAQD;;;;EAtDoBhC,a;;AAAjBW,Q,CACGsB,I,GAAO7B,Y;AAwDhB,eAAeO,QAAf","sourcesContent":["import React, { PureComponent } from 'react'\nimport Publisher from '../../Publisher'\n\nimport { withStyle } from 'styletron-react'\nimport styles from './styles'\n\nimport DropdownItem from '../DropdownItem'\n\nimport { BaseDropdownContainer, BaseDropdownMenuContainer } from '../Base'\n\nconst DropdownContainer = withStyle(\n  BaseDropdownContainer,\n  styles.dropdownContainer\n)\nconst DropdownMenuContainer = withStyle(\n  BaseDropdownMenuContainer,\n  styles.dropdownMenuContainer\n)\n\nclass Dropdown extends PureComponent {\n  static Item = DropdownItem\n\n  container = React.createRef()\n\n  state = {\n    open: false\n  }\n\n  componentDidMount() {\n    this.subscriptionKey = Publisher.subscribe('click', this.handleClick)\n  }\n\n  componentWillUnmount() {\n    Publisher.unsubscribe('click', this.subscriptionKey)\n  }\n\n  handleClickInside = e => {\n    const { open } = this.state\n    this.setState({ open: !open })\n  }\n\n  handleClickOutside = e => {\n    const { open } = this.state\n    if (open) {\n      this.setState({ open: false })\n    }\n  }\n\n  handleClick = e => {\n    const { target } = e\n    const { current: container } = this.container\n\n    const isContained = container.contains(target)\n\n    if (isContained) {\n      this.handleClickInside(e)\n    } else {\n      this.handleClickOutside(e)\n    }\n  }\n\n  render() {\n    const { open } = this.state\n    const { Component, renderComponent, ...rest } = this.props\n\n    return (\n      <DropdownContainer $ref={this.container} {...rest}>\n        {Component ? Component : renderComponent ? renderComponent(open) : null}\n        <DropdownMenuContainer $open={open}>\n          {this.props.children}\n        </DropdownMenuContainer>\n      </DropdownContainer>\n    )\n  }\n}\n\nexport default Dropdown\n"]},"metadata":{},"sourceType":"module"}